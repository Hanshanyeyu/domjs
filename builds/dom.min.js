/*dom - v0.1.0 - 2012-11-08
* http://http://domenlightenment.com/#12
* Copyright (c) 2012 Cody Lindley; Licensed MIT */
(function(e){"use strict";var t=e,n=t.document,r=function(e,t){return new i(e,t)},i=function(e,t){var r=n;t&&(t.nodeType?r=t:r=n.querySelector(t));if(!e||e===""||typeof e=="string"&&e.trim()==="")return this.length=0,this;if(typeof e=="string"&&/^\s*<(\w+|!)[^>]*>/.test(e)){var i=r.createElement("div");i.className="hippo-doc-frag-wrapper";var s=r.createDocumentFragment();s.appendChild(i);var o=s.querySelector("div");o.innerHTML=e;var u=o.children.length;for(var a=0;a<u;a++)this[a]=o.children[a];return this.length=u,this}if(typeof e=="object"&&e.nodeName)return this.length=1,this[0]=e,this;var f;typeof e!="string"?f=e:f=r.querySelectorAll(e.trim());var l=f.length;for(var c=0;c<l;c++)this[c]=f[c];return this.length=l,this};t.dom=r,r.fn=i.prototype})(window),dom.fn.each=function(e){var t=this.length;for(var n=0;n<t;n++)e.call(this[n],n,this[n]);return this},dom.fn.replaceWith=function(e){return e?this.each(function(){/^\s*<(\w+|!)[^>]*>/.exec(e)!==null?this.outerHTML=e:typeof e=="string"&&document.querySelectorAll(e).length===0?this.outerHTML=e:typeof e=="string"?this.outerHTML=dom(e)[0].outerHTML:e.nodeName?this.outerHTML=e.outerHTML:this.outerHTML=e[0].outerHTML}):this},dom.fn.empty=function(){return this.each(function(){this.innerHTML=""})},dom.fn.remove=function(){return this.each(function(){this.parentNode&&this.parentNode.removeChild(this)})},dom.fn.before=function(e){return this.each(function(){if(/^\s*<(\w+|!)[^>]*>/.exec(e)!==null)this.insertAdjacentHTML("beforebegin",e);else if(typeof e=="string")this.insertAdjacentHTML("beforebegin",dom(e)[0].outerHTML);else if(e.nodeName)this.insertAdjacentHTML("beforebegin",e.outerHTML);else{var t=this;e.each(function(e,n){t.insertAdjacentHTML("beforebegin",n.outerHTML)})}})},dom.fn.insertBefore=function(e){return this[0].parentNode.className==="dom-doc-frag-wrapper"&&/^\s*<(\w+|!)[^>]*>/.exec(e)!==null?dom(this[0]).add(e,!0):this.each(function(){dom(e).before(this)})},dom.fn.after=function(e){return this.each(function(){if(/^\s*<(\w+|!)[^>]*>/.exec(e)!==null)this.insertAdjacentHTML("afterend",e);else if(typeof e=="string")this.insertAdjacentHTML("afterend",dom(e)[0].outerHTML);else if(e.nodeName)this.insertAdjacentHTML("afterend",e.outerHTML);else{var t=this;e.each(function(e,n){t.insertAdjacentHTML("afterend",n.outerHTML)})}})},dom.fn.insertAfter=function(e){return this[0].parentNode.className==="dom-doc-frag-wrapper"&&/^\s*<(\w+|!)[^>]*>/.exec(e)!==null?dom(this[0]).add(e):this.each(function(){dom(e).after(this)})},dom.fn.append=function(e){return this.each(function(){if(typeof e=="string")this.insertAdjacentHTML("beforeend",e);else if(e.nodeName)this.insertAdjacentHTML("beforeend",e.outerHTML);else{var t=this;e.each(function(e,n){t.insertAdjacentHTML("beforeend",n.outerHTML)})}})},dom.fn.appendTo=function(e){return this.each(function(){dom(e).append(this)})},dom.fn.prepend=function(e){return this.each(function(){if(typeof e=="string")this.insertAdjacentHTML("afterbegin",e);else if(e.nodeName)this.insertAdjacentHTML("afterbegin",e.outerHTML);else{var t=this;e.each(function(e,n){t.insertAdjacentHTML("afterbegin",n.outerHTML)})}})},dom.fn.prependTo=function(e){return this.each(function(){dom(e).prepend(this)})},dom.fn.wrap=function(e){return this.each(function(){dom(this).replaceWith(dom(e).append(this))})},dom.fn.wrapInner=function(e){return this.each(function(){this.innerHTML=dom(e).append(this)[0].outerHTML})},dom.fn.html=function(e){return e?this.each(function(){this.innerHTML=e}):this[0].innerHTML},dom.fn.outerHtml=function(e){return e?this.each(function(){this.outerHTML=e}):this[0].outerHTML},dom.fn.text=function(e){return e?this.each(function(){this.textContent=e}):this[0].textContent.trim()};